(this["webpackJsonpecommerce-frontend"]=this["webpackJsonpecommerce-frontend"]||[]).push([[0],{109:function(e,t,c){},110:function(e,t,c){},111:function(e,t,c){},112:function(e,t,c){},113:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){},116:function(e,t,c){},118:function(e,t,c){},119:function(e,t,c){},120:function(e,t,c){},121:function(e,t,c){},122:function(e,t,c){},123:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),r=c(29),n=c.n(r),o=(c(77),c(10)),l=c.n(o),i=c(14),d=c(5),j=(c(79),c(132)),u=c(133),b=c(129),m=c(71),h=c(130),O=(c(80),c(8)),p=c.n(O),x="https://abirs-django-ecommerce-api.herokuapp.com",g=c(12),f=c(17),v=c(134),y=c.p+"static/media/jilapi.1d6c2570.jpg",N=(c(99),c(0));var S=function(e){var t={},c=!1,s=Object(a.useState)(c),r=Object(d.a)(s,2),n=r[0],o=r[1];function l(){t.name=e.title,t.price=e.price,t.totalPrice=e.price,t.image=e.image,t.id=e.id,t.quantity=1,e.cart[e.id]=t,e.setcart(e.cart),localStorage.setItem("cart",JSON.stringify(e.cart));var c=localStorage.getItem("totalPrice");if(console.log(c),null!=c){var a=parseInt(c)+e.price;localStorage.setItem("totalPrice",a)}else{var s=e.price;localStorage.setItem("totalPrice",s)}var r=JSON.parse(localStorage.getItem("cart"));console.log(r),o(!0)}function i(){e.setprodID(e.id),localStorage.setItem("prodID",e.id)}return null!=JSON.parse(localStorage.getItem("cart"))?e.id in JSON.parse(localStorage.getItem("cart"))&&(c=!0):c=!1,Object(a.useEffect)((function(){o(c)}),[]),Object(N.jsxs)(v.a,{className:"shadow mainCard",onClick:e.handleClick,children:[Object(N.jsx)(g.b,{to:"/products/".concat(e.category,"/").concat(e.subcategory,"/").concat(e.id),onClick:i,children:Object(N.jsx)(v.a.Img,{variant:"top",src:"https://abirs-django-ecommerce-api.herokuapp.com"+e.image,style:{height:"200px"}})}),Object(N.jsxs)(v.a.Body,{children:[Object(N.jsx)(g.b,{to:"/products/".concat(e.category,"/").concat(e.subcategory,"/").concat(e.id),onClick:i,style:{color:"black",textDecoration:"none"},children:Object(N.jsx)(v.a.Title,{children:e.title})}),Object(N.jsxs)(v.a.Text,{className:"cardText",children:[e.desc," ..."]}),Object(N.jsxs)(v.a.Text,{children:[Object(N.jsx)("hr",{}),Object(N.jsxs)("b",{children:["Price:",Object(N.jsx)("span",{className:"font-weight-bold ml-3 mr-1",children:"\u09f3"}),e.price]})]}),null!=JSON.parse(localStorage.getItem("cart"))?Object(N.jsx)(N.Fragment,{children:0==n?Object(N.jsxs)("button",{className:"addToCartButton",onClick:l,children:[Object(N.jsx)("i",{className:"fas fa-cart-plus",style:{paddingRight:"10px"}}),"Add to Cart"]}):Object(N.jsx)("button",{className:"addToCartButton",disabled:!0,children:"Added"})}):Object(N.jsxs)("button",{className:"addToCartButton",onClick:l,children:[Object(N.jsx)("i",{className:"fas fa-cart-plus",style:{paddingRight:"10px"}}),"Add to Cart"]})]})]})};var w=function(e){var t=JSON.parse(localStorage.getItem("cart")),c=Object(a.useState)(!1),s=Object(d.a)(c,2),r=s[0],n=s[1],o=new f.a,O=Object(a.useState)(""),v=Object(d.a)(O,2),y=v[0],w=v[1];Object(a.useEffect)((function(){void 0!=o.get("username")&&n(!0)}),[r]);var I=Object(a.useState)(!1),k=Object(d.a)(I,2),C=k[0],P=k[1],D=function(){return P(!1)},T=Object(a.useState)([]),F=Object(d.a)(T,2),A=F[0],E=F[1];if(null===t)var J=[];else J=Object.entries(t);Object(a.useEffect)((function(){return E(J),A}),[]);var B=Object(a.useState)([]),L=Object(d.a)(B,2),q=L[0],R=L[1],_=Object(a.useState)(0),W=Object(d.a)(_,2),U=W[0],H=W[1],Y={},M=Object(a.useState)([]),z=Object(d.a)(M,2),Q=z[0],V=z[1];Object(a.useEffect)((function(){if(null!=JSON.parse(localStorage.getItem("cart"))){var e=0;for(var c in t)e+=t[c].totalPrice;H(e),localStorage.setItem("totalPrice",e)}else H(0)}),[]);var Z=Object(a.useState)(!1),G=Object(d.a)(Z,2),$=G[0],K=G[1],X=Object(a.useState)([]),ee=Object(d.a)(X,2),te=ee[0],ce=ee[1],ae=Object(a.useState)([]),se=Object(d.a)(ae,2),re=se[0],ne=se[1];Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(x,"/fetchAllCategories"));case 2:return t=e.sent,e.next=5,p.a.get("".concat(x,"/fetchAllSubCategories"));case 5:c=e.sent,ce(t.data),ne(c.data);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){!1===r&&localStorage.setItem("message","Please log in first")}),[]);var oe={},le={},ie={};return r&&(oe={paddingTop:"15px"},le={paddingTop:"15px"},ie={marginTop:"60px"}),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"fixed-top",children:[Object(N.jsxs)(j.a,{bg:"",variant:"dark",id:"topNavbar",expand:"lg",children:[Object(N.jsx)(j.a.Brand,{id:"NavbarBrand",children:"Welcome To Imperia Pastry House"}),Object(N.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(N.jsx)(j.a.Collapse,{children:Object(N.jsxs)(u.a,{className:"ml-auto",children:[Object(N.jsx)(g.b,{to:"#",onClick:e.move,className:"navLinks nav-link",style:oe,children:"Blog"}),Object(N.jsx)("span",{href:"",className:"nav-link navLinks",children:!1===r?Object(N.jsx)(g.b,{to:"/login",onClick:e.move,style:{color:"grey"},children:"Log In"}):Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(b.a,{title:o.get("username"),id:"accountDropdown",children:[Object(N.jsx)("a",{onClick:function(){o.remove("username",{path:"/"}),o.remove("password",{path:"/"}),localStorage.removeItem("userID"),localStorage.removeItem("cart"),localStorage.setItem("message","Logged Out Successfully"),window.location.href="/login"},style:{color:"grey"},children:Object(N.jsx)(b.a.Item,{children:"Log Out"})}),Object(N.jsx)(b.a.Item,{children:Object(N.jsx)(g.b,{onClick:e.move,to:"/myAccount/dashboard",style:{color:"black"},children:"My Account"})})]})})}),Object(N.jsxs)("a",{className:"navLinks nav-link",id:"cartButton",style:le,onClick:function(){return K(!0)},children:[Object(N.jsx)("i",{className:"fas fa-shopping-cart",style:{paddingRight:"10px"}}),"Cart (",null===t?Object(N.jsx)(N.Fragment,{children:"0"}):Object.keys(t).length,")"]})]})})]}),Object(N.jsx)("div",{id:"myProgress",children:Object(N.jsx)("div",{id:"myBar"})})]}),Object(N.jsxs)(j.a,{bg:"",variant:"light",style:ie,className:"navbarHeader",expand:"lg",children:[Object(N.jsx)(j.a.Brand,{children:Object(N.jsx)("label",{id:"brandLabel",children:"Imperia"})}),Object(N.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(N.jsxs)(j.a.Collapse,{id:"basic-navbar-nav",children:[Object(N.jsxs)(u.a,{className:"mr-auto",style:{paddingLeft:"60px"},children:[Object(N.jsx)(g.b,{to:"/",onClick:e.move,className:"nav-link blackLink",children:"Home"}),te.map((function(t){return Object(N.jsx)(b.a,{title:t.name,id:"basic-nav-dropdown",children:re.map((function(c){return Object(N.jsx)(N.Fragment,{children:c.category==t.id&&Object(N.jsx)(g.b,{to:"/products/".concat(t.id,"/").concat(c.id),onClick:function(){return a=t.id,s=c.id,e.move(),localStorage.setItem("category",a),localStorage.setItem("subcategory",s),e.category(a),void e.subcategory(s);var a,s},className:"blackLink dropdown-item",children:c.name})})}))})}))]}),Object(N.jsxs)("form",{className:"form form-inline",onSubmit:function(e){p.a.post("".concat(x,"/searchItems"),{input:y}).then((function(e){console.log(JSON.stringify(e.data)),V(e.data),P(!0)})),e.preventDefault()},children:[Object(N.jsx)("input",{type:"text",required:!0,placeholder:"Search",value:y,onChange:function(e){return w(e.target.value)},style:{borderColor:"black"},className:"form-control mr-sm-2"}),Object(N.jsx)(m.a,{variant:"dark",type:"submit",onClick:e.move,children:"Search"})]})]})]}),Object(N.jsxs)(h.a,{show:$,className:"cardd",onHide:function(){return K(!1)},children:[Object(N.jsx)(h.a.Header,{closeButton:!0,children:Object(N.jsx)(h.a.Title,{children:"Your Cart"})}),Object(N.jsxs)(h.a.Body,{children:[Object(N.jsxs)("h5",{className:"text-center",children:["Total Cost : ",localStorage.getItem("totalPrice")," /-"]}),Object(N.jsxs)("div",{className:" cardBody mt-3 shadow-lg bg-white rounded",style:{width:"100%"},children:[null!=J?J.map((function(e){return Object(N.jsxs)("div",{className:"row no-gutters",children:[Object(N.jsx)("div",{className:"col-sm-5",children:Object(N.jsx)("img",{className:"card-img",src:"https://abirs-django-ecommerce-api.herokuapp.com".concat(e[1].image),style:{height:"100%",padding:"10px"}})}),Object(N.jsx)("div",{className:"col-sm-7",children:Object(N.jsxs)("div",{className:"card-body cart-items",children:[Object(N.jsx)("h5",{className:"card-title",children:Object(N.jsxs)("b",{children:[e[1].name," "]})}),Object(N.jsxs)("p",{className:"card-text cart-text",children:[Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Individual Price: "}),e[1].price]}),Object(N.jsxs)("p",{className:"mb-1",children:[Object(N.jsx)("b",{children:"Total Price: "})," Tk. ",Object(N.jsx)("span",{id:"totPrice",children:e[1].totalPrice})]}),Object(N.jsx)("button",{className:"removeBtn btn btn-dark btn-sm btn-rounded bg-black",onClick:function(){return function(e){var c=0;for(var a in delete t[e],console.log(t),localStorage.setItem("cart",JSON.stringify(t)),t)c+=t[a].totalPrice;H(c),localStorage.setItem("totalPrice",c),R(t)}(e[1].id)},children:"Remove"}),Object(N.jsx)("button",{className:"bg-dark",onClick:function(){return function(e){t[e].quantity=t[e].quantity-1,t[e].totalPrice=t[e].quantity*t[e].price,localStorage.setItem("cart",JSON.stringify(t)),Y[e]=JSON.parse(localStorage.getItem("cart"))[e].quantity;var c=0;for(var a in t)c+=t[e].totalPrice;H(c),localStorage.setItem("totalPrice",c),R(t),console.log(q)}(e[1].id)},style:{marginLeft:"10px"},children:Object(N.jsx)("i",{className:"fas fa-minus",style:{color:"white"}})}),Object(N.jsx)("span",{id:"vall",style:{paddingLeft:"10px",paddingRight:"10px"},children:e[1].quantity}),Object(N.jsx)("button",{className:"bg-dark",onClick:function(){return function(e){t[e].quantity=t[e].quantity+1,t[e].totalPrice=t[e].quantity*t[e].price,localStorage.setItem("cart",JSON.stringify(t)),Y[e]=JSON.parse(localStorage.getItem("cart"))[e].quantity;var c=0;for(var a in t)c+=t[a].totalPrice;H(c),localStorage.setItem("totalPrice",c),R(t),console.log(q)}(e[1].id)},children:Object(N.jsx)("i",{className:"fas fa-plus",style:{color:"white"}})})]})]})})]})})):Object(N.jsx)("h3",{children:"There are no items in your cart"}),Object(N.jsx)("input",{hidden:!0,value:JSON.stringify(J),readOnly:!0})]})]}),Object(N.jsx)(h.a.Footer,{children:null===t?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(m.a,{variant:"success",disabled:!0,style:{cursor:"not-allowed"},children:"Proceed to Checkout"}),Object(N.jsx)(m.a,{variant:"danger",disabled:!0,style:{cursor:"not-allowed"},children:"Clear Cart"})]}):Object(N.jsxs)(N.Fragment,{children:[!1===r?Object(N.jsx)("a",{href:"/login",children:Object(N.jsx)(m.a,{variant:"success",onClick:function(){K(!1),localStorage.setItem("message","Please log in to access the checkout page")},children:"Proceed to Checkout"})}):Object(N.jsx)(N.Fragment,{children:0===U?Object(N.jsx)(m.a,{variant:"success",onClick:function(){return alert("Please adjust the quantity of the items you want to take")},children:"Proceed to Checkout"}):Object(N.jsx)("a",{href:"/checkout/".concat(o.get("username")),children:Object(N.jsx)(m.a,{variant:"success",onClick:function(){return K(!1)},children:"Proceed to Checkout"})})}),Object(N.jsx)(m.a,{variant:"danger",onClick:function(){localStorage.removeItem("cart"),localStorage.removeItem("totalPrice"),E({}),H(0)},children:"Clear Cart"})]})})]}),Object(N.jsxs)(h.a,{show:C,onHide:D,id:"searchModal",children:[Object(N.jsx)(h.a.Header,{closeButton:!0,children:Object(N.jsxs)(h.a.Title,{children:['You Searched For "',y,'"']})}),Object(N.jsx)(h.a.Body,{children:Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"d-flex flex-wrap cardsss",children:'{"status":"No such items found"}'!==JSON.stringify(Q)?Q.map((function(t){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(S,{id:t.id,title:t.product_name,desc:t.desc,price:t.presentPrice,image:"/media/".concat(t.image),category:t.category,subcategory:t.sub_category,setcatID:e.setcatID,setprodID:e.setprodID,setsubCatID:e.setsubCatID,cart:e.cart,setcart:e.setcart,handleClick:D})})})):Object(N.jsx)("p",{children:"No Such results found."})})})}),Object(N.jsx)(h.a.Footer,{children:Object(N.jsx)(m.a,{variant:"secondary",onClick:D,children:"Close"})})]})]})},I=c(131),k=c.p+"static/media/lassi.e6454f74.jpg",C=c.p+"static/media/yellowSweet.532fb931.jpg";c(109);var P=function(){return Object(N.jsxs)(I.a,{fade:!0,children:[Object(N.jsxs)(I.a.Item,{children:[Object(N.jsx)("img",{className:"d-block w-100 carouselImage",src:C,alt:"First slide"}),Object(N.jsxs)(I.a.Caption,{className:"carouselCaption",children:[Object(N.jsx)("h3",{children:"First slide label"}),Object(N.jsx)("p",{children:"Nulla vitae elit libero, a pharetra augue mollis interdum."})]})]}),Object(N.jsxs)(I.a.Item,{children:[Object(N.jsx)("img",{className:"d-block w-100 carouselImage",src:y,alt:"Second slide"}),Object(N.jsxs)(I.a.Caption,{className:"carouselCaption",children:[Object(N.jsx)("h3",{children:"Second slide label"}),Object(N.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})]}),Object(N.jsxs)(I.a.Item,{children:[Object(N.jsx)("img",{className:"d-block w-100 carouselImage",src:k,alt:"Third slide"}),Object(N.jsxs)(I.a.Caption,{className:"carouselCaption",children:[Object(N.jsx)("h3",{children:"Third slide label"}),Object(N.jsx)("p",{children:"Praesent commodo cursus magna, vel scelerisque nisl consectetur."})]})]})]})};c(110);var D=function(e){var t=Object(a.useState)([]),c=Object(d.a)(t,2),s=c[0],r=c[1];return Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(x,"/fetchAllProducts"));case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log(s),Object(N.jsxs)("div",{className:"",children:[Object(N.jsxs)("div",{className:"cardRow",children:["object"==typeof e.category?Object(N.jsx)("h3",{children:e.category.name}):Object(N.jsx)("h3",{children:e.category}),Object(N.jsx)("button",{className:"btn btn-dark",children:Object(N.jsx)(g.b,{to:"/products/".concat(e.category.id),children:"See more"})}),Object(N.jsx)("hr",{})]}),Object(N.jsx)("div",{className:"cardRowScroll",id:"cardRowScroll",children:s.map((function(t){return Object(N.jsx)(N.Fragment,{children:t.category==e.category.id&&Object(N.jsx)(S,{className:"card",id:t.id,title:t.product_name,desc:t.desc,price:t.presentPrice,image:t.image,category:t.category,subcategory:t.sub_category,setcatID:e.setcatID,setprodID:e.setprodID,setsubCatID:e.setsubCatID,cart:e.cart,setcart:e.setcart,move:e.move})})}))})]})};c(111);var T=function(){return Object(N.jsx)("div",{className:"container-fluid pb-0 mb-0 justify-content-center text-light ",children:Object(N.jsx)("footer",{children:Object(N.jsx)("div",{className:"row my-5 justify-content-center py-5",children:Object(N.jsxs)("div",{className:"col-11",children:[Object(N.jsxs)("div",{className:"row ",children:[Object(N.jsx)("div",{className:"col-xl-8 col-md-4 col-sm-4 col-12 my-auto mx-auto a",children:Object(N.jsx)("h3",{className:"mb-md-0 mb-5 bold-text",children:"Imperia Pastry House."})}),Object(N.jsxs)("div",{className:"col-xl-2 col-md-4 col-sm-4 col-12",children:[Object(N.jsx)("h6",{className:"mb-3 mb-lg-4 bold-text ",children:Object(N.jsx)("b",{children:"MENU"})}),Object(N.jsxs)("ul",{className:"list-unstyled",children:[Object(N.jsx)("li",{children:"Home"}),Object(N.jsx)("li",{children:"About"}),Object(N.jsx)("li",{children:"Blog"})]})]}),Object(N.jsxs)("div",{className:"col-xl-2 col-md-4 col-sm-4 col-12",children:[Object(N.jsx)("h6",{className:"mb-3 mb-lg-4 text-muted bold-text mt-sm-0 mt-5",children:Object(N.jsx)("b",{children:"ADDRESS"})}),Object(N.jsx)("p",{className:"mb-1",children:"151/5, Bangladesh Military Academy, Bhatiary, Chattogram."})]})]}),Object(N.jsxs)("div",{className:"row ",children:[Object(N.jsxs)("div",{className:"col-xl-8 col-md-4 col-sm-4 col-auto my-md-0 mt-5 order-sm-1 order-3 align-self-end",children:[Object(N.jsxs)("p",{className:"social text-muted mb-0 pb-0 bold-text",children:[" ",Object(N.jsx)("span",{className:"mx-2",children:Object(N.jsx)("i",{className:"fa fa-facebook","aria-hidden":"true"})})," ",Object(N.jsx)("span",{className:"mx-2",children:Object(N.jsx)("i",{className:"fa fa-linkedin-square","aria-hidden":"true"})})," ",Object(N.jsx)("span",{className:"mx-2",children:Object(N.jsx)("i",{className:"fa fa-twitter","aria-hidden":"true"})})," ",Object(N.jsx)("span",{className:"mx-2",children:Object(N.jsx)("i",{className:"fa fa-instagram","aria-hidden":"true"})})," "]}),Object(N.jsxs)("small",{className:"rights",children:[Object(N.jsx)("span",{children:"\xae"})," Pepper All Rights Reserved."]})]}),Object(N.jsxs)("div",{className:"col-xl-2 col-md-4 col-sm-4 col-auto order-1 align-self-end ",children:[Object(N.jsx)("h6",{className:"mt-55 mt-2 text-muted bold-text",children:Object(N.jsx)("b",{children:"Abir Al Mahdi"})}),Object(N.jsxs)("small",{children:[" ",Object(N.jsx)("span",{children:Object(N.jsx)("i",{className:"fa fa-envelope","aria-hidden":"true"})})," abiralmahdi@gmail.com"]})]})]})]})})})})},F=(c(112),c(72));var A=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(F.Parallax,{bgImage:k,strength:700,className:"featurePhoto",children:Object(N.jsx)("div",{className:"featureDesc text-center",children:"We provide the best food. We provide the best food. We provide the best food. We provide the best food. We provide the best food."})})})};c(113);var E=function(e){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h3",{id:"contactHeader",className:"text-center",children:"Contact Us"}),Object(N.jsxs)("div",{className:"container contactDiv",children:[Object(N.jsx)("div",{id:"map-container-google-1",className:"z-depth-1 map-container mb-4",children:Object(N.jsx)("iframe",{src:"https://maps.google.com/maps?q=manhatan&t=&z=13&ie=UTF8&iwloc=&output=embed",frameBorder:"0",style:{border:"0",height:"500px"},allowFullScreen:!0})}),Object(N.jsxs)("form",{onSubmit:function(t){e.move();var c=t.target[0].value,a=t.target[1].value,s=t.target[2].value,r=t.target[3].value;p.a.post("https://abirs-django-ecommerce-api.herokuapp.com/contact-us",{name:c,email:a,contact:s,message:r}).then((function(e){'{"status":"Contact recieved"}'===JSON.stringify(e.data)?alert("We have recieved your message"):(console.log(e.data),alert("There was a server error. Please try again later after sometime."))})),t.preventDefault()},children:[Object(N.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Enter Your Name"}),Object(N.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Your Email"}),Object(N.jsx)("input",{type:"tel",id:"contact",name:"contact",placeholder:"Your Contact"}),Object(N.jsx)("textarea",{id:"subject",name:"subject",placeholder:"Write something..",style:{height:"200px"}}),Object(N.jsx)("input",{type:"submit",value:"Submit",className:"btn btn-dark btn-block btn-lg"})]})]})]})};c.p,c(114);var J=function(e){var t,c=new f.a,s={},r=(localStorage.getItem("totalPrice"),Object(a.useState)(!1)),n=Object(d.a)(r,2),o=n[0],j=n[1],u=!1;t=void 0===e.prodID||null===e.prodID||""===e.prodID?localStorage.getItem("prodID"):e.prodID;var b=Object(a.useState)([]),m=Object(d.a)(b,2),h=m[0],O=m[1],g=Object(a.useState)(""),v=Object(d.a)(g,2),y=v[0],S=v[1],w=Object(a.useState)(!1),I=Object(d.a)(w,2),k=I[0],C=I[1];Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(x,"/fetchAllProducts"));case 2:return a=e.sent,O(a.data),e.next=6,p.a.get("".concat(x,"/accounts/fetchSingleUserReal/").concat(c.get("username",{path:"/"})));case 6:return s=e.sent,S(s.data.id),e.next=10,p.a.get("https://abirs-django-ecommerce-api.herokuapp.com/checkFavourites/".concat(a.data[t-1].id,"/").concat(s.data.id)).then((function(e){console.log(e),!0===e.data?C(!0):C(!1)}));case 10:e.sent;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){null!=JSON.parse(localStorage.getItem("cart"))?localStorage.getItem("prodID")in JSON.parse(localStorage.getItem("cart"))?j(u=!0):j(u=!1):(u=!1,console.log(localStorage.getItem("cart")),console.log(u))}),[]);var P=h[t-1];function D(){e.move(),p.a.post("https://abirs-django-ecommerce-api.herokuapp.com/addToFavourite",{productName:'[["'.concat(P.id,'",{"name":"').concat(P.product_name,'","price":').concat(P.price,',"category":').concat(P.category,',"id":').concat(P.id,',"sub_category":').concat(P.sub_category,',"user":').concat(y,"}]]"),product:P.id,user:y,category:P.category,subCategory:P.sub_category,actualPrice:P.price,discount:3}).then((function(e){console.log(e.data),C(!0),alert("Item added to wishlist successfully")}))}function T(){s.name=P.product_name,s.price=P.presentPrice,s.totalPrice=P.presentPrice,s.image=P.image,s.id=P.id,s.quantity=1,console.log(s),e.cart[P.id]=s,e.setcart(e.cart),console.log(e.cart),localStorage.setItem("cart",JSON.stringify(e.cart));var t=localStorage.getItem("totalPrice");if(console.log(t),null!=t){var c=parseInt(t)+P.presentPrice;localStorage.setItem("totalPrice",c)}else{var a=P.presentPrice;localStorage.setItem("totalPrice",a)}var r=JSON.parse(localStorage.getItem("cart"));console.log(r),j(!0)}return console.log(JSON.parse(localStorage.getItem("cart"))),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(N.jsx)(N.Fragment,{children:h.map((function(e){return Object(N.jsx)(N.Fragment,{children:e.id===t-1+1&&Object(N.jsxs)("div",{className:"product",children:[Object(N.jsx)("div",{className:"productImage",children:Object(N.jsx)("img",{src:"https://abirs-django-ecommerce-api.herokuapp.com".concat(P.image),alt:"Image is not available",className:"mainImage"})}),Object(N.jsxs)("div",{className:"productDetails",children:[Object(N.jsx)("div",{className:"productTitle text-center",children:Object(N.jsxs)("h3",{style:{marginTop:"50px"},children:[P.product_name," "]})}),Object(N.jsx)("div",{className:"productDesc",children:P.desc}),Object(N.jsx)("div",{className:"productPricing mt-3",children:Object(N.jsxs)("h4",{children:["Price: ",P.presentPrice," ",Object(N.jsx)("span",{className:"font-weight-bold",children:"\u09f3"})]})}),Object(N.jsxs)("div",{className:"productOrder mt-5",children:[!1===o?Object(N.jsxs)("button",{className:"addToCartButton",onClick:T,children:[Object(N.jsx)("i",{className:"fas fa-cart-plus",style:{paddingRight:"10px"}}),"Add to Cart"]}):Object(N.jsxs)("button",{className:"addToCartButton",disabled:!0,children:[Object(N.jsx)("i",{className:"fas fa-cart-plus",style:{paddingRight:"10px"}}),"Added"]}),!0===k?Object(N.jsxs)("button",{className:"addToWishlistButton",disabled:!0,children:[Object(N.jsx)("i",{className:"fas fa-heart",style:{paddingRight:"10px",cursor:"not-allowed"}}),"In Wishlist"]}):Object(N.jsxs)("button",{className:"addToWishlistButton",onClick:D,children:[Object(N.jsx)("i",{className:"fas fa-heart",style:{paddingRight:"10px"}}),"Add to Wishlist"]})]})]})]})})}))})};c(115);var B=function(e){var t,c,s=Object(a.useState)([]),r=Object(d.a)(s,2),n=(r[0],r[1]),o=Object(a.useState)([]),j=Object(d.a)(o,2),u=(j[0],j[1]),b=Object(a.useState)([]),m=Object(d.a)(b,2),h=m[0],O=m[1],g=Object(a.useState)(""),f=Object(d.a)(g,2),v=f[0],y=f[1],w=Object(a.useState)(""),I=Object(d.a)(w,2),k=I[0],C=I[1];return void 0===e.catID||null===e.catID||""===e.catID?(t=localStorage.getItem("category"),console.log(t)):(t=e.catID,console.log(t)),void 0===e.subCatID||null===e.subCatID||""===e.subCatID?(c=localStorage.getItem("subcategory"),console.log(c)):(c=e.subCatID,console.log(c)),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),console.log(v),Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var a,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(x,"/fetchAllCategories"));case 2:return a=e.sent,e.next=5,p.a.get("".concat(x,"/fetchAllSubCategories"));case 5:return s=e.sent,e.next=8,p.a.get("".concat(x,"/fetchAllProducts"));case 8:r=e.sent,n(a.data),y(a.data[parseInt(t)-1].name),u(s.data),O(r.data),void 0===s.data[parseInt(c)-1]?C("All"):C(s.data[parseInt(c)-1].name);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("h3",{className:"text-center mt-5",children:[k," - ",v]}),Object(N.jsx)("div",{className:"allProducts",children:h.map((function(a){return Object(N.jsx)(N.Fragment,{children:a.category==t&&Object(N.jsx)(N.Fragment,{children:a.sub_category==c&&Object(N.jsx)(S,{id:a.id,title:a.product_name,desc:a.desc,price:a.presentPrice,image:a.image,category:a.category,subcategory:a.sub_category,setcatID:e.setcatID,setprodID:e.setprodID,setsubCatID:e.setsubCatID,cart:e.cart,setcart:e.setcart})})})}))})]})},L=(c(69),c(128));var q=function(e){var t=Object(a.useState)(""),c=Object(d.a)(t,2),s=(c[0],c[1]),r=Object(a.useState)(""),n=Object(d.a)(r,2),o=(n[0],n[1]),l=new f.a,i=Object(a.useState)(!1),j=Object(d.a)(i,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){return void 0!=localStorage.getItem("message")&&b(!0),u}),[u]),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(N.jsx)("div",{className:"py-5 my-5",children:Object(N.jsx)("div",{className:"cont",children:Object(N.jsx)("div",{className:"col-md-8 col-md-offset-8 ",style:{marginLeft:"20%"},children:Object(N.jsxs)("div",{className:"panel panel-default",children:[Object(N.jsx)("div",{className:"panel-heading",children:Object(N.jsx)("h3",{className:"panel-title py-2",children:"Please sign in"})}),u?Object(N.jsx)(L.a,{variant:"danger",dismissible:!0,onClose:function(){localStorage.removeItem("message"),b(!1)},children:Object(N.jsx)(L.a.Heading,{children:Object(N.jsx)("b",{children:localStorage.getItem("message")})})}):Object(N.jsx)("p",{}),Object(N.jsx)("div",{className:"panel-body",children:Object(N.jsx)("form",{acceptCharset:"UTF-8",role:"form",onSubmit:function(t){e.move(),p.a.post("https://abirs-django-ecommerce-api.herokuapp.com/accounts/getAuthToken",{username:t.target[1].value,password:t.target[2].value}).then((function(e){if('{"detail":"Incorrect credentials"}'==JSON.stringify(e.data))alert("Incorrect credentials");else{l.set("username",t.target[1].value,{path:"/"}),l.set("password",t.target[2].value,{path:"/"}),l.set("token",JSON.stringify(e.data),{path:"/"});p.a.get("https://abirs-django-ecommerce-api.herokuapp.com/accounts/fetchSingleUser/".concat(t.target[1].value)).then((function(e){console.log(e.data.username),localStorage.setItem("userID",e.data.username),window.location.href="/"}))}})),t.preventDefault()},children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("input",{className:"form-control",placeholder:"E-mail",name:"username",onChange:function(e){return s(e.target.value)},type:"text"})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("input",{className:"form-control",placeholder:"Password",name:"password",onChange:function(e){return o(e.target.value)},type:"password"})}),Object(N.jsx)("label",{children:"Don't have an account? "})," ",Object(N.jsx)(g.b,{to:"/registration",style:{color:"blue"},children:"Click here to sign up"}),Object(N.jsx)("input",{className:"btn btn-lg btn-warning btn-block",type:"submit",value:"Login"})]})})})]})})})})};c(116);var R=function(){var e=new f.a,t=JSON.parse(localStorage.getItem("cart")),c=Object(a.useState)({}),s=Object(d.a)(c,2),r=s[0],n=s[1];if(void 0===t||null===t)var o=[];else o=Object.entries(t);return Object(a.useEffect)((function(){function t(){return(t=Object(i.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("https://abirs-django-ecommerce-api.herokuapp.com/accounts/fetchSingleUser/".concat(e.get("username")));case 2:c=t.sent,n(c.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(N.jsx)("div",{className:"container",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-md-5 cartDiv order-md-2 mb-4",children:[Object(N.jsxs)("h4",{className:"d-flex justify-content-between align-items-center mb-3",children:[Object(N.jsx)("span",{className:"text-muted",children:"Your cart"}),Object(N.jsx)("span",{className:"badge badge-secondary badge-pill",children:Object.keys(t).length})]}),Object(N.jsx)("div",{class:"alert alert-danger",role:"alert",children:Object(N.jsx)("b",{children:"The website is still under development and there is a high scope of bugs. Please recheck the items and the price calculations to avoid extra charge. Sorry for the inconvenience!"})}),Object(N.jsxs)("ul",{className:"list-group mb-3",children:[Object(N.jsxs)("li",{className:"list-group-item d-flex justify-content-between lh-condensed",children:[Object(N.jsx)("div",{children:Object(N.jsx)("h6",{className:"my-0 col-md-6",children:"Name"})}),Object(N.jsxs)("span",{className:"col-md-2",children:[" ",Object(N.jsx)("b",{children:"Quantity"}),"  "]}),Object(N.jsx)("span",{className:"col-md-4",children:"Total Price"})]}),null!=o&&o.map((function(e){return Object(N.jsxs)("li",{className:"list-group-item d-flex justify-content-between lh-condensed",children:[Object(N.jsx)("div",{children:Object(N.jsx)("h6",{className:"col-md-6",children:e[1].name})}),Object(N.jsxs)("span",{className:"col-md-2",children:[" ",Object(N.jsxs)("b",{children:["x",e[1].quantity]}),"  "]}),Object(N.jsxs)("span",{className:"col-md-4",children:["$",e[1].totalPrice," "]})]})})),Object(N.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(N.jsx)("span",{children:"Total (BDT)"}),Object(N.jsx)("strong",{children:localStorage.getItem("totalPrice")})]})]})]}),Object(N.jsxs)("div",{className:"col-md-7 billingDiv order-md-1",children:[Object(N.jsx)("h4",{className:"mb-3",children:"Billing address"}),Object(N.jsxs)("form",{className:"needs-validation",onSubmit:function(e){p.a.post("https://abirs-django-ecommerce-api.herokuapp.com/payment",{fname:e.target[0].value,lname:e.target[1].value,username:e.target[2].value,email:e.target[3].value,contact:e.target[4].value,address:e.target[5].value,totalPrice:localStorage.getItem("totalPrice"),purchaseDetails:JSON.stringify(o)}).then((function(e){console.log(e.data),localStorage.removeItem("cart"),window.location.href=e.data})),e.preventDefault()},children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(N.jsx)("label",{children:"First name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"firstName",placeholder:"",value:r.fname,readOnly:!0}),Object(N.jsx)("div",{className:"invalid-feedback",children:"Valid first name is required."})]}),Object(N.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(N.jsx)("label",{children:"Last name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"lastName",placeholder:"",value:r.lname,readOnly:!0}),Object(N.jsx)("div",{className:"invalid-feedback",children:"Valid last name is required."})]})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Username"}),Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("div",{className:"input-group-prepend",children:Object(N.jsx)("span",{className:"input-group-text",children:"@"})}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Username",value:r.email,readOnly:!0}),Object(N.jsx)("div",{className:"invalid-feedback",style:{width:"100%"},children:"Your username is required."})]})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsxs)("label",{children:["Email ",Object(N.jsx)("span",{className:"text-muted",children:"(Optional)"})]}),Object(N.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"you@example.com",value:r.email,readOnly:!0}),Object(N.jsx)("div",{className:"invalid-feedback",children:"Please enter a valid email address for shipping updates."})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Contact"}),Object(N.jsx)("input",{type:"tel",className:"form-control",id:"address",placeholder:"1234 Main St",value:r.contact,readOnly:!0}),Object(N.jsx)("div",{className:"invalid-feedback",children:"Please enter your contact."})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Address"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"address",placeholder:"1234 Main St",value:r.address,readOnly:!0}),Object(N.jsx)("div",{className:"invalid-feedback",children:"Please enter your shipping address."})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsxs)("label",{children:["Address 2 ",Object(N.jsx)("span",{className:"text-muted",children:"(Optional)"})]}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"address2",placeholder:"Apartment or suite",value:r.address,readOnly:!0})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-md-5 mb-3",children:[Object(N.jsx)("label",{children:"Country"}),Object(N.jsxs)("select",{className:"custom-select d-block w-100",id:"state",children:[Object(N.jsx)("option",{value:"",children:"Choose..."}),Object(N.jsx)("option",{children:"Bangladesh"})]}),Object(N.jsx)("div",{className:"invalid-feedback",children:"Please select a valid country."})]}),Object(N.jsxs)("div",{className:"col-md-4 mb-3",children:[Object(N.jsx)("label",{children:"State"}),Object(N.jsxs)("select",{className:"custom-select d-block w-100",id:"state",children:[Object(N.jsx)("option",{value:"",children:"Choose..."}),Object(N.jsx)("option",{children:"California"})]}),Object(N.jsx)("div",{className:"invalid-feedback",children:"Please provide a valid state."})]}),Object(N.jsxs)("div",{className:"col-md-3 mb-3",children:[Object(N.jsx)("label",{children:"Zip"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"zip",placeholder:""}),Object(N.jsx)("div",{className:"invalid-feedback",children:"Zip code required."})]})]}),Object(N.jsx)("hr",{className:"mb-4"}),Object(N.jsx)("button",{className:"btn btn-dark btn-lg btn-block",type:"submit",children:"Continue to checkout"})]})]})]})})},_=(c(117),c(13));var W=function(e){var t=Object(a.useState)(""),c=Object(d.a)(t,2),s=(c[0],c[1]),r=Object(a.useState)(""),n=Object(d.a)(r,2),o=(n[0],n[1]),l=Object(a.useState)(""),i=Object(d.a)(l,2),j=(i[0],i[1]),u=Object(a.useState)(""),b=Object(d.a)(u,2),m=(b[0],b[1]),h=Object(a.useState)(""),O=Object(d.a)(h,2),x=(O[0],O[1]),f=Object(a.useState)(""),v=Object(d.a)(f,2),y=(v[0],v[1]),S=Object(a.useState)(""),w=Object(d.a)(S,2),I=(w[0],w[1]),k=Object(a.useState)(!1),C=Object(d.a)(k,2),P=C[0],D=C[1];return Object(a.useEffect)((function(){return void 0!=localStorage.getItem("message")&&D(!0),P}),[P]),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(N.jsx)("div",{class:"py-5 my-5",children:Object(N.jsx)("div",{class:"cont",children:Object(N.jsx)("div",{class:"col-md-8 col-md-offset-8 ",style:{marginLeft:"20%"},children:Object(N.jsxs)("div",{class:"panel panel-default",children:[Object(N.jsx)("div",{class:"panel-heading",children:Object(N.jsx)("h3",{class:"panel-title py-2",children:"Sign Up"})}),P?Object(N.jsx)(L.a,{variant:"danger",dismissible:!0,onClose:function(){localStorage.removeItem("message"),D(!1)},children:Object(N.jsx)(L.a.Heading,{children:localStorage.getItem("message")})}):Object(N.jsx)("p",{}),Object(N.jsx)("div",{class:"panel-body",children:Object(N.jsx)("form",{"accept-charset":"UTF-8",role:"form",onSubmit:function(t){e.move(),t.target[6].value===t.target[7].value?p.a.post("https://abirs-django-ecommerce-api.herokuapp.com/accounts/register",{first_name:t.target[1].value,last_name:t.target[2].value,username:t.target[3].value,password:t.target[6].value,email:t.target[3].value,contact:t.target[4].value,address:t.target[5].value}).then((function(e){console.log(e.data),localStorage.setItem("message","Successfully created your account"),D(!0),alert("Created account successfully! Please go to the Log in page to login to your account")})):alert("Passwords doesnot match"),t.preventDefault()},children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("div",{class:"form-group",children:Object(N.jsx)("input",{class:"form-control",placeholder:"First Name",name:"fname",onChange:function(e){return j(e.target.value)},type:"text"})}),Object(N.jsx)("div",{class:"form-group",children:Object(N.jsx)("input",{class:"form-control",placeholder:"Last Name",name:"lname",onChange:function(e){return x(e.target.value)},type:"text"})}),Object(N.jsx)("div",{class:"form-group",children:Object(N.jsx)("input",{class:"form-control",placeholder:"E-mail",name:"username",onChange:function(e){return s(e.target.value)},type:"email"})}),Object(N.jsx)("div",{class:"form-group",children:Object(N.jsx)("input",{class:"form-control",placeholder:"Contact",name:"contact",onChange:function(e){return y(e.target.value)},type:"tel"})}),Object(N.jsx)("div",{class:"form-group",children:Object(N.jsx)("input",{class:"form-control",placeholder:"Address",name:"address",onChange:function(e){return I(e.target.value)},type:"text"})}),Object(N.jsx)("div",{class:"form-group",children:Object(N.jsx)("input",{class:"form-control",placeholder:"Password",name:"password",onChange:function(e){return o(e.target.value)},type:"password"})}),Object(N.jsx)("div",{class:"form-group",children:Object(N.jsx)("input",{class:"form-control",placeholder:"Password",name:"cpassword",onChange:function(e){return m(e.target.value)},type:"password"})}),Object(N.jsx)("label",{children:"Already have an account? "}),"  ",Object(N.jsx)(g.b,{to:"/login",style:{color:"blue"},children:"Click here to log in"}),Object(N.jsx)("input",{class:"btn btn-lg btn-warning btn-block",type:"submit",value:"Register"})]})})})]})})})})};var U=function(e){return Object(N.jsx)("div",{className:"my-5 py-5",children:Object(N.jsxs)("p",{className:"text-center text-".concat(e.status),children:[Object(N.jsx)("h1",{children:e.message}),Object(N.jsx)(g.b,{to:"/",children:Object(N.jsx)("button",{className:"mt-5 btn btn-".concat(e.status," btn-lg"),children:"Redirect to Home page"})}),Object(N.jsx)(g.b,{to:"/myAccount/dashboard",children:Object(N.jsx)("button",{className:"mt-5 mx-2 btn btn-warning btn-lg",children:"Go to your Account Panel"})})]})})};c(118),c(119);var H=function(e){return Object(N.jsx)("a",{href:"/myAccount/".concat(e.url),className:"item__container shadow",children:Object(N.jsx)("div",{className:"item__inside",children:e.title})})};c(120);var Y=function(e){return Object(N.jsx)("div",{className:"accountCard col-md-3 col-sm-6 col-xs-6",children:Object(N.jsxs)("div",{className:"panel panel-back noti-box",children:[Object(N.jsx)("span",{className:"icon-box bg-color-red set-icon",children:Object(N.jsx)("i",{className:e.cardType})}),Object(N.jsxs)("div",{className:"text-box",children:[Object(N.jsx)("p",{className:"main-text",children:e.count}),Object(N.jsx)("p",{className:"text-muted",children:e.title})]})]})})};c(121);var M=function(e){var t=Object(a.useState)([]),c=Object(d.a)(t,2),s=c[0],r=c[1];Object(a.useEffect)((function(){function t(){return(t=Object(i.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(e.url);case 2:c=t.sent,console.log(c.data),r(c.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var n=[];for(var o in s)n.push(Object.values(s[o]));return Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:Object(N.jsxs)("div",{className:"panel panel-default",children:[Object(N.jsx)("div",{className:"row m-3",children:Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsx)("h2",{className:"text-dark",children:e.title})})}),Object(N.jsx)("div",{className:"panel-body",children:Object(N.jsx)("div",{className:"table-responsive",style:{overflowY:"scroll",height:"500px"},children:"Purchase Details"===e.title?Object(N.jsxs)("table",{className:"table table-hover table-striped",children:[Object(N.jsx)("thead",{children:Object(N.jsx)("tr",{children:e.rows.map((function(e){return Object(N.jsx)("th",{children:e})}))})}),Object(N.jsx)("tbody",{children:n.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e[0]}),Object(N.jsx)("td",{children:JSON.parse(e[1]).map((function(e){return Object(N.jsxs)("li",{children:[" ",e[1].name]})}))}),Object(N.jsx)("td",{children:JSON.parse(e[1]).map((function(e){return Object(N.jsxs)(N.Fragment,{children:[e[1].quantity,Object(N.jsx)("br",{})]})}))}),Object(N.jsx)("td",{children:JSON.parse(e[1]).map((function(e){return Object(N.jsxs)("li",{children:[" ",e[1].price]})}))}),Object(N.jsx)("td",{children:JSON.parse(e[1]).map((function(e){return Object(N.jsx)("li",{children:e[1].totalPrice})}))}),Object(N.jsx)("td",{children:e[3]}),Object(N.jsxs)("td",{children:[" ",e[5]]})]},n.indexOf(e))}))})]}):"On Orders"===e.title?Object(N.jsxs)("table",{className:"table table-hover table-striped",children:[Object(N.jsx)("thead",{children:Object(N.jsx)("tr",{children:e.rows.map((function(e){return Object(N.jsx)("th",{children:e})}))})}),Object(N.jsx)("tbody",{children:n.map((function(t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t[0]}),Object(N.jsx)("td",{children:JSON.parse(t[1]).map((function(e){return Object(N.jsxs)("li",{children:[" ",e[1].name]})}))}),Object(N.jsx)("td",{children:JSON.parse(t[1]).map((function(e){return Object(N.jsxs)(N.Fragment,{children:[e[1].quantity,Object(N.jsx)("br",{})]})}))}),Object(N.jsx)("td",{children:JSON.parse(t[1]).map((function(e){return Object(N.jsxs)("li",{children:[" ",e[1].price]})}))}),Object(N.jsx)("td",{children:JSON.parse(t[1]).map((function(e){return Object(N.jsx)("li",{children:e[1].totalPrice})}))}),Object(N.jsx)("td",{children:t[3]}),Object(N.jsxs)("td",{children:[" ",t[5]]}),Object(N.jsxs)("td",{children:[" ",Object(N.jsx)("button",{className:"btn btn-info btn-sm",onClick:function(){return function(t,c){e.move();var a={};a.id=c[0],a.customerName=c[2],a.customerUsername=c[6],a.product_details=c[1],a.totalPrice=c[3],a.discount=c[4],p.a.post("https://abirs-django-ecommerce-api.herokuapp.com/addToPurchases",a).then((function(e){'{"status":"Order delivered"}'===JSON.stringify(e.data)?alert("Order Delivered"):alert("There was an error. Please try again later.")}))}(t[0],t)},children:"Recieved"})]})]},n.indexOf(t))}))})]}):"My Favourites"===e.title?Object(N.jsxs)("table",{className:"table table-hover table-striped",children:[Object(N.jsx)("thead",{children:Object(N.jsx)("tr",{children:e.rows.map((function(e){return Object(N.jsx)("th",{children:e})}))})}),Object(N.jsx)("tbody",{children:n.map((function(t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t[0]}),Object(N.jsx)("td",{children:JSON.parse(t[2]).map((function(e){return Object(N.jsx)("a",{href:"/products/".concat(t[7],"/").concat(t[8],"/").concat(t[0]),style:{color:"black"},onClick:function(){localStorage.setItem("prodID",t[0])},children:e[1].name})}))}),Object(N.jsx)("td",{children:t[3]}),Object(N.jsx)("td",{children:t[4]}),Object(N.jsx)("td",{children:JSON.parse(t[2]).map((function(e){return e[1].price}))}),Object(N.jsx)("td",{children:"0"}),Object(N.jsx)("td",{children:Object(N.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(){return c=t[0],a=t,e.move(),void p.a.delete("https://abirs-django-ecommerce-api.herokuapp.com/removeFromFavourite/".concat(c)).then((function(e){if(console.log(JSON.stringify(e.data)),'{"status":"Deleted"}'===JSON.stringify(e.data)){for(var t in alert("Item removed from favourites"),s.splice(s.indexOf(a),1),console.log(s),n=[],s)n.push(Object.values(s[t]));console.log(n)}else alert("Couldn't remove item. Please try again later.")}));var c,a},children:Object(N.jsx)("i",{class:"fas fa-trash-alt"})})})]},n.indexOf(t))}))})]}):Object(N.jsxs)("table",{className:"table table-hover table-striped",children:[Object(N.jsx)("thead",{children:Object(N.jsx)("tr",{children:e.rows.map((function(e){return Object(N.jsx)("th",{children:e})}))})}),Object(N.jsx)("tbody",{children:n.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e[0]}),Object(N.jsx)("td",{children:JSON.parse(e[2]).map((function(e){return e[1].name}))}),Object(N.jsx)("td",{children:e[3]}),Object(N.jsx)("td",{children:e[4]}),Object(N.jsx)("td",{children:JSON.parse(e[2]).map((function(e){return e[1].price}))}),Object(N.jsx)("td",{children:"0"})]},n.indexOf(e))}))})]})})})]})})})};c(122);var z=function(){var e=new f.a,t=Object(a.useState)(!1),c=Object(d.a)(t,2),s=c[0],r=c[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{class:"card text-center mx-auto",style:{width:"90%"},children:[Object(N.jsx)("div",{class:"card-header",children:Object(N.jsx)("h3",{class:"card-title",children:"Change Your Password"})}),Object(N.jsx)("div",{class:"card-body",children:Object(N.jsx)("p",{class:"card-text",children:Object(N.jsxs)("form",{onSubmit:function(t){t.target[0].value===e.get("password",{path:"/"})?t.target[1].value===t.target[2].value?p.a.post("https://abirs-django-ecommerce-api.herokuapp.com/accounts/change-password/".concat(e.get("username",{path:"/"})),{password:t.target[1].value}).then((function(t){"Password Changed"===t.data.status?(alert("Password changed successfully. You need to log in again."),e.remove("username",{path:"/"}),e.remove("password",{path:"/"}),localStorage.removeItem("userID"),localStorage.removeItem("cart"),localStorage.setItem("message","Passwoed Changed Successfully"),window.location.href="/login"):alert("Internal Server Issue, Please Try again Later")})):alert("Passwords do not match"):alert("Incorrect Password"),t.preventDefault()},children:[Object(N.jsx)("input",{type:"password",name:"old-password",placeholder:"Enter your old Password",class:"form form-control"}),Object(N.jsx)("input",{type:"password",name:"new-password",placeholder:"Enter new Password",class:"form form-control mt-3"}),Object(N.jsx)("input",{type:"password",name:"new-password-confirm",placeholder:"Confirm Password",class:"form form-control mt-3"}),Object(N.jsx)("button",{class:"btn btn-dark mt-4",children:"Change Password"})]})})})]}),Object(N.jsxs)("div",{class:"card text-center mx-auto mt-5 mb-24",style:{width:"90%"},children:[Object(N.jsx)("div",{class:"card-header",children:Object(N.jsx)("h3",{class:"card-title",children:"Deactivate your account"})}),Object(N.jsx)("div",{class:"card-body",children:Object(N.jsxs)("p",{class:"card-text",children:[Object(N.jsxs)("div",{class:"alert alert-danger",role:"alert",children:["Deactivating your account will remove all of the data and records related to your account from our server ",Object(N.jsx)("strong",{children:"PERMANENTLY"}),"!"]}),Object(N.jsx)("form",{children:Object(N.jsx)("button",{class:"btn btn-danger bg-gray-900 border-gray-900 mt-4",type:"button",onClick:function(){return r(!0)},children:"Click here to deactivate"})})]})})]}),Object(N.jsx)(h.a,{show:s,className:"cardd",onHide:function(){return r(!1)},children:Object(N.jsxs)("div",{class:"modal-content",children:[Object(N.jsxs)("div",{class:"modal-header",children:[Object(N.jsx)("h5",{class:"modal-title",children:"Account Deactivation"}),Object(N.jsx)("button",{type:"button",class:"close",onClick:function(){r(!1)},children:Object(N.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(N.jsx)("div",{class:"modal-body",children:Object(N.jsx)("p",{children:Object(N.jsxs)("form",{onSubmit:function(t){t.target[0].value===e.get("password",{path:"/"})?p.a.post("https://abirs-django-ecommerce-api.herokuapp.com/accounts/deactivateID/".concat(e.get("username",{path:"/"})),{password:t.target[0].value}).then((function(t){"Deactivated"===t.data.status?(alert("Account Deactivated. You can create a new account with the same Email id again."),e.remove("username",{path:"/"}),e.remove("password",{path:"/"}),localStorage.removeItem("userID"),localStorage.removeItem("cart"),localStorage.setItem("message","Account Deactivated Successfully"),window.location.href="/login"):alert("Internal Server Issue, Please Try again Later")})):alert("Incorrect Password"),t.preventDefault()},children:[Object(N.jsx)("input",{type:"password",name:"password",class:"form-control",placeholder:"Enter your password"}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{class:"btn btn-danger mx-auto",children:"Deactivate"})]})})}),Object(N.jsx)("div",{class:"modal-footer",children:Object(N.jsx)("button",{type:"button",class:"btn btn-secondary",onClick:function(){r(!1)},children:"Close"})})]})})]})};var Q=function(){return Object(N.jsxs)("p",{className:"text-center",children:[Object(N.jsx)("h4",{className:"mb-5 font-weight-bold",children:"Privacy Policy and Terms and Conditions of our service"}),"Welcome to Facebook! Facebook builds technologies and services that enable people to connect with each other, build communities, and grow businesses. These Terms govern your use of Facebook, Messenger, and the other products, features, apps, services, technologies, and software we offer (the Facebook Products or Products), except where we expressly state that separate terms (and not these) apply. These Products are provided to you by Facebook, Inc. We don\u2019t charge you to use Facebook or the other products and services covered by these Terms. Instead, businesses and organizations pay us to show you ads for their products and services. By using our Products, you agree that we can show you ads that we think will be relevant to you and your interests. We use your personal data to help determine which ads to show you. We don\u2019t sell your personal data to advertisers, and we don\u2019t share information that directly identifies you (such as your name, email address or other contact information) with advertisers unless you give us specific permission. Instead, advertisers can tell us things like the kind of audience they want to see their ads, and we show those ads to people who may be interested. We provide advertisers with reports about the performance of their ads that help them understand how people are interacting with their content. See Section 2 below to learn more. Our Data Policy explains how we collect and use your personal data to determine some of the ads you see and provide all of the other services described below. You can also go to your settings at any time to review the privacy choices you have about how we use your data."]})};var V=function(e){var t=(new f.a).get("username",{path:"/"}),c=Object(a.useState)(""),s=Object(d.a)(c,2),r=s[0],n=s[1];Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://abirs-django-ecommerce-api.herokuapp.com/accounts/fetchSingleUser/".concat(t));case 2:c=e.sent,n(c.data),localStorage.setItem("userID",c.data.username);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var o=Object(a.useState)([]),j=Object(d.a)(o,2),u=j[0],b=j[1];Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://abirs-django-ecommerce-api.herokuapp.com/fetchIndivPurchases/".concat(localStorage.getItem("userID")));case 2:t=e.sent,b(t.data),console.log(t.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var m=Object(a.useState)([]),h=Object(d.a)(m,2),O=h[0],x=h[1];Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://abirs-django-ecommerce-api.herokuapp.com/fetchUsersFavourites/".concat(localStorage.getItem("userID")));case 2:t=e.sent,x(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var v=Object(a.useState)([]),y=Object(d.a)(v,2),S=y[0],w=y[1];return Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://abirs-django-ecommerce-api.herokuapp.com/fetchIndivOnOrders/".concat(localStorage.getItem("userID")));case 2:t=e.sent,w(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(N.jsx)(g.a,{children:Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)("nav",{className:"navbar-default navbar-side",role:"navigation",children:Object(N.jsx)("div",{className:"sidebar-collapse",children:Object(N.jsxs)("ul",{className:"nav",id:"main-menu",children:[Object(N.jsx)(H,{title:"Dashboard",url:"dashboard"}),Object(N.jsx)(H,{title:"Purchases",url:"purchases"}),Object(N.jsx)(H,{title:"Favourites",url:"favourites"}),Object(N.jsx)(H,{title:"On Order",url:"on-order"}),Object(N.jsx)(H,{title:"Account Settings",url:"settings"}),Object(N.jsx)(H,{title:"Privacy Policy",url:"privacy-policy"})]})})}),Object(N.jsx)("div",{id:"page-wrapper",children:Object(N.jsx)("div",{id:"page-inner",children:Object(N.jsxs)(_.c,{children:[Object(N.jsx)(_.a,{exact:!0,path:"/myAccount/purchases",children:Object(N.jsx)(M,{move:e.move,url:"https://abirs-django-ecommerce-api.herokuapp.com/fetchIndivPurchases/".concat(localStorage.getItem("userID")),title:"Purchase Details",rows:["Purchase ID","Purchased Items","Qty","Individual Price","Cumulative Price","Total Price","Date"]})}),Object(N.jsx)(_.a,{exact:!0,path:"/myAccount/favourites",children:Object(N.jsx)(M,{move:e.move,url:"https://abirs-django-ecommerce-api.herokuapp.com/fetchUsersFavourites/".concat(localStorage.getItem("userID")),title:"My Favourites",rows:["Product ID","Name","Category","SubCategory","Actual Price","Discount"]})}),Object(N.jsx)(_.a,{exact:!0,path:"/myAccount/on-order",children:Object(N.jsx)(M,{move:e.move,url:"https://abirs-django-ecommerce-api.herokuapp.com/fetchIndivOnOrders/".concat(localStorage.getItem("userID")),title:"On Orders",rows:["Order ID","Purchased Items","Qty","Individual Price","Cumulative Price","Total Price","Date of Order"]})}),Object(N.jsx)(_.a,{exact:!0,path:"/myAccount/privacy-policy",children:Object(N.jsx)(Q,{move:e.move})}),Object(N.jsx)(_.a,{exact:!0,path:"/myAccount/settings",children:Object(N.jsx)(z,{move:e.move})}),Object(N.jsxs)(_.a,{exact:!0,path:"/myAccount/dashboard",children:[Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsx)("h2",{className:"text-dark",children:"Admin Dashboard"})})}),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"row ml-3",children:[Object(N.jsx)(Y,{count:u.length,title:"Purchases",cardType:"fa fa-shopping-cart"}),Object(N.jsx)(Y,{count:O.length,title:"Favourites",cardType:"fa fa-heart"}),Object(N.jsx)(Y,{count:"".concat(r.moneySpent),title:"Expenses",cardType:"fa fa-dollar"}),Object(N.jsx)(Y,{count:"".concat(S.length),title:"On Orders",cardType:"fa fa-dollar"})]}),Object(N.jsx)("hr",{}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-md-6 col-sm-12 col-xs-12"})})]})]})]})})})]})})};var Z=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(!1),n=Object(d.a)(r,2),o=n[0],j=n[1],u=Object(a.useState)(),b=Object(d.a)(u,2),m=b[0],h=b[1],O=Object(a.useState)(),v=Object(d.a)(O,2),y=v[0],S=v[1],I=Object(a.useState)(),k=Object(d.a)(I,2),C=k[0],F=k[1],L=Object(a.useState)({}),H=Object(d.a)(L,2),Y=H[0],M=H[1],z=Object(a.useState)(),Q=Object(d.a)(z,2),Z=Q[0],G=Q[1],$=0;function K(){if(0==$){$=1;var e=document.getElementById("myBar"),t=1,c=setInterval((function(){t>=100?(clearInterval(c),$=0):(t++,e.style.width=t+"%")}),10)}}var X=new f.a;return Object(a.useEffect)((function(){void 0!=X.get("username")&&j(!0)}),[o]),Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(x,"/fetchAllCategories"));case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(N.jsxs)("div",{className:"App",children:[Object(N.jsxs)(g.a,{children:[Object(N.jsx)(w,{category:S,setprodID:h,subcategory:F,searchedItem:Z,setsearchedItem:G,cart:Y,setcart:M,move:K}),Object(N.jsxs)(_.c,{children:[Object(N.jsxs)(_.a,{exact:!0,path:"/",children:[Object(N.jsx)(P,{}),c.map((function(e){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(D,{category:e,setprodID:h,setcatID:S,setsubCatID:F,cart:Y,setcart:M,move:K}),Object(N.jsx)(A,{})]})})),Object(N.jsx)(E,{move:K})]}),Object(N.jsx)(_.a,{exact:!0,path:"/allProducts",children:Object(N.jsx)(B,{})}),Object(N.jsx)(_.a,{exact:!0,path:"/products/:category",children:Object(N.jsx)(B,{move:K,catID:y,setcatID:S,setsubCatID:F,cart:Y,setcart:M})}),Object(N.jsx)(_.a,{exact:!0,path:"/products/:category/:subcategory",children:Object(N.jsx)(B,{move:K,catID:y,subCatID:C,setcatID:S,setsubCatID:F,setprodID:h,cart:Y,setcart:M})}),Object(N.jsx)(_.a,{exact:!0,path:"/products/:category/:subcategory/:product",children:Object(N.jsx)(J,{move:K,catID:y,subCatID:C,prodID:m,cart:Y,setcart:M})}),Object(N.jsx)(_.a,{exact:!0,path:"/checkout/:user",children:o?Object(N.jsx)(R,{move:K}):Object(N.jsx)(q,{move:K})}),Object(N.jsx)(_.a,{exact:!0,path:"/login",children:Object(N.jsx)(q,{move:K})}),Object(N.jsx)(_.a,{exact:!0,path:"/registration",children:!1===o?Object(N.jsx)(W,{move:K}):Object(N.jsx)("h3",{className:"mt-3 text-center",children:"Please log out to create a new user"})}),Object(N.jsx)(_.a,{exact:!0,path:"/checkoutSuccess",children:Object(N.jsx)(U,{move:K,status:"success",urlStatus:"Success",message:"Successfully purchased your product. Please visit your account log for more details."})}),Object(N.jsx)(_.a,{exact:!0,path:"/checkoutFail",children:Object(N.jsx)(U,{move:K,status:"danger",urlStatus:"Fail",message:"Failed to purchase your product. Please visit your account log for more details. For more information, please send us a message."})}),Object(N.jsx)(_.a,{exact:!0,path:"/myAccount/:type",children:!1===o?Object(N.jsx)(q,{move:K}):Object(N.jsx)(V,{move:K})})]})]}),Object(N.jsx)(T,{})]})},G=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,135)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,n=t.getTTFB;c(e),a(e),s(e),r(e),n(e)}))};n.a.render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsx)(Z,{})}),document.getElementById("root")),G()},69:function(e,t,c){},77:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},99:function(e,t,c){}},[[123,1,2]]]);
//# sourceMappingURL=main.742d8ec2.chunk.js.map